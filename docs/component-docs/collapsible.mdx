# Collapsible

The Collapsible component is a molecule in the AliveUI component library. It allows content to be toggled between visible and hidden states, providing a way to reduce UI complexity and create expandable/collapsible sections.

## Usage

```tsx
import {
  Collapsible,
  CollapsibleContent,
  CollapsibleTrigger,
} from "@aliveui/ui";
import { useState } from "react";
import { ChevronsUpDown } from "lucide-react";
import { Button } from "@aliveui/ui";

export default function CollapsibleExample() {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <Collapsible
      open={isOpen}
      onOpenChange={setIsOpen}
      className="w-[350px] space-y-2"
    >
      <div className="flex items-center justify-between space-x-4 px-4">
        <h4 className="text-sm font-semibold">What&apos;s a Collapsible?</h4>
        <CollapsibleTrigger asChild>
          <Button variant="ghost" size="sm" className="w-9 p-0">
            <ChevronsUpDown className="h-4 w-4" />
            <span className="sr-only">Toggle</span>
          </Button>
        </CollapsibleTrigger>
      </div>
      <CollapsibleContent className="space-y-2">
        <div className="rounded-md border px-4 py-3 font-mono text-sm">
          A UI component that can be toggled between expanded and collapsed
          states.
        </div>
      </CollapsibleContent>
    </Collapsible>
  );
}
```

## API Reference

The Collapsible component is built on top of the Radix UI Collapsible primitive and consists of three parts.

### Collapsible

The root component that contains the trigger and content.

| Property       | Type       | Default | Description                                                          |
| -------------- | ---------- | ------- | -------------------------------------------------------------------- |
| `defaultOpen`  | `boolean`  | `false` | The open state of the collapsible when it is initially rendered      |
| `open`         | `boolean`  | -       | The controlled open state of the collapsible                         |
| `onOpenChange` | `function` | -       | Event handler called when the open state of the collapsible changes  |
| `disabled`     | `boolean`  | `false` | When `true`, prevents the user from interacting with the collapsible |

### CollapsibleTrigger

The button that triggers the expand/collapse action.

### CollapsibleContent

The component that contains the collapsible content. It's hidden when the collapsible is collapsed.

## Examples

### Basic Collapsible

```tsx
import { useState } from "react";
import { Button } from "@aliveui/ui";

function BasicCollapsible() {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <Collapsible open={isOpen} onOpenChange={setIsOpen} className="w-[350px]">
      <div className="flex items-center justify-between space-x-4 px-4">
        <h4 className="text-sm font-semibold">Toggle Content</h4>
        <CollapsibleTrigger asChild>
          <Button variant="ghost" size="sm">
            {isOpen ? "Hide" : "Show"}
          </Button>
        </CollapsibleTrigger>
      </div>
      <CollapsibleContent className="px-4 pt-2">
        <p className="text-sm">
          This content can be expanded and collapsed by clicking the button.
        </p>
      </CollapsibleContent>
    </Collapsible>
  );
}
```

### Collapsible with Icon Transition

```tsx
import { useState } from "react";
import { Button } from "@aliveui/ui";
import { ChevronDown } from "lucide-react";

function IconTransitionCollapsible() {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <Collapsible
      open={isOpen}
      onOpenChange={setIsOpen}
      className="w-[350px] border rounded-md p-2"
    >
      <div className="flex items-center justify-between">
        <h4 className="text-sm font-semibold">Section Title</h4>
        <CollapsibleTrigger asChild>
          <Button variant="ghost" size="sm" className="p-1 h-auto">
            <ChevronDown
              className={`h-4 w-4 transition-transform duration-200 ${
                isOpen ? "transform rotate-180" : ""
              }`}
            />
            <span className="sr-only">Toggle</span>
          </Button>
        </CollapsibleTrigger>
      </div>
      <CollapsibleContent className="pt-2">
        <p className="text-sm text-muted-foreground">
          This example shows a smooth transition of the icon when toggling the
          content.
        </p>
      </CollapsibleContent>
    </Collapsible>
  );
}
```

### Multiple Collapsibles

```tsx
import { Button } from "@aliveui/ui";
import { ChevronDown } from "lucide-react";

function MultipleCollapsibles() {
  return (
    <div className="space-y-2 w-[350px]">
      <Collapsible className="border rounded-md overflow-hidden">
        <div className="flex items-center justify-between p-4 bg-muted/50">
          <h4 className="text-sm font-medium">Section 1</h4>
          <CollapsibleTrigger asChild>
            <Button variant="ghost" size="sm" className="p-1 h-auto">
              <ChevronDown className="h-4 w-4 transition-transform duration-200 data-[state=open]:rotate-180" />
              <span className="sr-only">Toggle</span>
            </Button>
          </CollapsibleTrigger>
        </div>
        <CollapsibleContent className="p-4 pt-0">
          <p className="text-sm">Content for section 1.</p>
        </CollapsibleContent>
      </Collapsible>

      <Collapsible className="border rounded-md overflow-hidden">
        <div className="flex items-center justify-between p-4 bg-muted/50">
          <h4 className="text-sm font-medium">Section 2</h4>
          <CollapsibleTrigger asChild>
            <Button variant="ghost" size="sm" className="p-1 h-auto">
              <ChevronDown className="h-4 w-4 transition-transform duration-200 data-[state=open]:rotate-180" />
              <span className="sr-only">Toggle</span>
            </Button>
          </CollapsibleTrigger>
        </div>
        <CollapsibleContent className="p-4 pt-0">
          <p className="text-sm">Content for section 2.</p>
        </CollapsibleContent>
      </Collapsible>

      <Collapsible className="border rounded-md overflow-hidden">
        <div className="flex items-center justify-between p-4 bg-muted/50">
          <h4 className="text-sm font-medium">Section 3</h4>
          <CollapsibleTrigger asChild>
            <Button variant="ghost" size="sm" className="p-1 h-auto">
              <ChevronDown className="h-4 w-4 transition-transform duration-200 data-[state=open]:rotate-180" />
              <span className="sr-only">Toggle</span>
            </Button>
          </CollapsibleTrigger>
        </div>
        <CollapsibleContent className="p-4 pt-0">
          <p className="text-sm">Content for section 3.</p>
        </CollapsibleContent>
      </Collapsible>
    </div>
  );
}
```

### Collapsible with Card

```tsx
import { useState } from "react";
import { Button } from "@aliveui/ui";
import { Card, CardContent, CardHeader, CardTitle } from "@aliveui/ui";
import { ChevronDown } from "lucide-react";

function CollapsibleWithCard() {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <Card className="w-[350px]">
      <CardHeader className="pb-2">
        <div className="flex items-center justify-between">
          <CardTitle className="text-lg">Settings</CardTitle>
          <CollapsibleTrigger asChild>
            <Button variant="ghost" size="sm" className="p-1 h-auto">
              <ChevronDown
                className={`h-4 w-4 transition-transform duration-200 ${
                  isOpen ? "transform rotate-180" : ""
                }`}
              />
              <span className="sr-only">Toggle advanced settings</span>
            </Button>
          </CollapsibleTrigger>
        </div>
      </CardHeader>
      <CardContent>
        <div className="space-y-4">
          <div className="space-y-2">
            <label className="text-sm font-medium" htmlFor="name">
              Name
            </label>
            <input
              id="name"
              className="w-full rounded-md border p-2 text-sm"
              placeholder="Enter your name"
            />
          </div>

          <Collapsible open={isOpen} onOpenChange={setIsOpen}>
            <CollapsibleContent className="space-y-4">
              <div className="space-y-2">
                <label className="text-sm font-medium" htmlFor="apiKey">
                  API Key
                </label>
                <input
                  id="apiKey"
                  className="w-full rounded-md border p-2 text-sm"
                  placeholder="Enter your API key"
                />
              </div>
              <div className="space-y-2">
                <label className="text-sm font-medium" htmlFor="webhookUrl">
                  Webhook URL
                </label>
                <input
                  id="webhookUrl"
                  className="w-full rounded-md border p-2 text-sm"
                  placeholder="https://example.com/webhook"
                />
              </div>
            </CollapsibleContent>
          </Collapsible>

          <Button className="w-full">Save Settings</Button>
        </div>
      </CardContent>
    </Card>
  );
}
```

### Disabled Collapsible

```tsx
import { Button } from "@aliveui/ui";

<Collapsible disabled className="w-[350px] space-y-2">
  <div className="flex items-center justify-between space-x-4 px-4">
    <h4 className="text-sm font-semibold">Disabled Collapsible</h4>
    <CollapsibleTrigger asChild>
      <Button variant="outline" size="sm" disabled>
        Toggle
      </Button>
    </CollapsibleTrigger>
  </div>
  <CollapsibleContent className="px-4 pt-2">
    <p className="text-sm text-muted-foreground">
      This content cannot be toggled because the collapsible is disabled.
    </p>
  </CollapsibleContent>
</Collapsible>;
```

## Accessibility

The Collapsible component follows accessibility best practices:

- Uses Radix UI's accessible collapsible primitive
- Keyboard accessible (can be toggled using Enter or Space key)
- Focus is properly managed
- ARIA attributes are automatically applied
- Screen readers announce the expanded/collapsed state
- Content can be hidden from screen readers when collapsed

## Implementation Details

The Collapsible component is built on top of Radix UI's Collapsible primitive, ensuring robust accessibility and consistent behavior across browsers. It's styled with Tailwind CSS and includes smooth transitions for expanding and collapsing content. The component is flexible and can be used in various scenarios, such as FAQ sections, advanced settings panels, or any area where progressive disclosure of content is beneficial.
